webpackJsonp([6],{"3CdP":function(t,e){},jNyJ:function(t,e){t.exports=[{id:"m_1",threadID:"t_1",threadName:"Jing and Bill",authorName:"Bill",text:"Hey Jing, want to give a Flux talk at ForwardJS?",timestamp:Date.now()-99999},{id:"m_2",threadID:"t_1",threadName:"Jing and Bill",authorName:"Bill",text:"Seems like a pretty cool conference.",timestamp:Date.now()-89999},{id:"m_3",threadID:"t_1",threadName:"Jing and Bill",authorName:"Jing",text:"Sounds good.  Will they be serving dessert?",timestamp:Date.now()-79999},{id:"m_4",threadID:"t_2",threadName:"Dave and Bill",authorName:"Bill",text:"Hey Dave, want to get a beer after the conference?",timestamp:Date.now()-69999},{id:"m_5",threadID:"t_2",threadName:"Dave and Bill",authorName:"Dave",text:"Totally!  Meet you at the hotel bar.",timestamp:Date.now()-59999},{id:"m_6",threadID:"t_3",threadName:"Functional Heads",authorName:"Bill",text:"Hey Brian, are you going to be talking about functional stuff?",timestamp:Date.now()-49999},{id:"m_7",threadID:"t_3",threadName:"Bill and Brian",authorName:"Brian",text:"At ForwardJS?  Yeah, of course.  See you there!",timestamp:Date.now()-39999}]},qenb:function(t,e,n){"use strict";function a(t){n("3CdP")}function r(t){setTimeout(function(){t(E)},F)}function i(t,e){var n=t.text,a=t.thread,r=Date.now(),i="m_"+r,s={id:i,text:n,timestamp:r,threadID:a.id,threadName:a.name,authorName:"Evan"};setTimeout(function(){e(s)},F)}function s(t,e,n){_.a.set(t.threads,e,{id:e,name:n,messages:[],lastMessage:null})}function o(t,e){e.isRead=e.threadID===t.currentThreadID;var n=t.threads[e.threadID];n.messages.some(function(t){return t===e.id})||(n.messages.push(e.id),n.lastMessage=e),_.a.set(t.messages,e.id,e)}function u(t,e){t.currentThreadID=e,t.threads[e],t.threads[e].lastMessage.isRead=!0}function c(){return new C.a.Store({state:T,actions:M,mutations:B,modules:{chat:P}})}function m(){return new W.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/home"},{path:"/home",component:function(){return n.e(3).then(n.bind(null,"8kqy"))}},{path:"/button",component:function(){return n.e(2).then(n.bind(null,"E6AV"))}},{path:"/menu",component:function(){return n.e(1).then(n.bind(null,"dWNN"))}},{path:"/lang",component:function(){return n.e(4).then(n.bind(null,"XrXe"))}},{path:"/chat",component:function(){return n.e(0).then(n.bind(null,"i+3+"))}},{path:"*",redirect:"/"}]})}function l(t){var e=t.$options.title;return!!e&&("function"==typeof e?e.call(t):e)}Object.defineProperty(e,"__esModule",{value:!0});var d=n("//Fk"),h=n.n(d),_=(n("MU8w"),n("7+uW")),f=n("9JMe"),v={name:"APP"},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"menu-horizontal"},[n("router-link",{staticClass:"menu__heading menu__link",attrs:{to:"/home"}},[t._v("Home")]),n("ul",{staticClass:"menu__list"},[n("li",{staticClass:"menu__item"},[n("router-link",{staticClass:"menu__link",attrs:{to:"/menu","active-class":"menu__item--active"}},[t._v("Menu")])],1),n("li",{staticClass:"menu__item"},[n("router-link",{staticClass:"menu__link",attrs:{to:"/button","active-class":"menu__item--active"}},[t._v("Button")])],1),n("li",{staticClass:"menu__item"},[n("router-link",{staticClass:"menu__link",attrs:{to:"/lang","active-class":"menu__item--active"}},[t._v("Lang")])],1),n("li",{staticClass:"menu__item"},[n("router-link",{staticClass:"menu__link",attrs:{to:"/chat","active-class":"menu__item--active"}},[t._v("Chat")])],1),n("li",{staticClass:"menu__item"},[n("router-link",{staticClass:"menu__link",attrs:{to:"/shop","active-class":"menu__item--active"}},[t._v("Shop")])],1)])],1),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{staticClass:"view"})],1)],1)},g=[],D={render:p,staticRenderFns:g},w=D,I=n("VU/8"),N=a,k=I(v,w,!1,N,null,null),y=k.exports,C=n("NYxO"),b={posts:{},post:{},tag:{},archives:{}},T=b,M={},x={},B=x,J={currentThreadID:null,threads:{},messages:{}},A=n("fZjL"),S=n.n(A),R=function(t){return t.currentThreadID?t.threads[t.currentThreadID]:{}},j={threads:function(t){return t.threads},currentThread:R,currentMessages:function(t){var e=R(t);return e.messages?e.messages.map(function(e){return t.messages[e]}):[]},unreadCount:function(t){var e=t.threads;return S()(e).reduce(function(t,n){return e[n].lastMessage.isRead?t:t+1},0)},sortedMessages:function(t,e){return e.currentMessages.slice().sort(function(t,e){return t.timestamp-e.timestamp})}},E=n("jNyJ"),F=16,H={getAllMessages:function(t){var e=t.commit;r(function(t){e("receiveAll",t)})},sendMessage:function(t,e){var n=t.commit;i(e,function(t){n("receiveMessage",t)})},switchThread:function(t,e){(0,t.commit)("switchThread",e)}},L={receiveAll:function(t,e){var n=void 0;e.forEach(function(e){t.threads[e.threadID]||s(t,e.threadID,e.threadName),(!n||e.timestamp>n.timestamp)&&(n=e),o(t,e)}),u(t,n.threadID)},receiveMessage:function(t,e){o(t,e)},switchThread:function(t,e){u(t,e)}},P={namespaced:!0,state:J,getters:j,actions:H,mutations:L};_.a.use(C.a);var W=n("/ocq");_.a.use(W.a);var $=n("TXmL"),q={ch:{message:{hello:"你好 世界"}},en:{message:{hello:"hello world"}}};_.a.use($.a);var O=function(){return new $.a({locale:"ch",messages:q})},U={mounted:function(){var t=l(this);t&&(document.title=t)}},X=U;_.a.mixin(X),_.a.mixin({beforeRouteUpdate:function(t,e,n){var a=this.$options.asyncData;a?a({store:this.$store,route:t}).then(n).catch(n):n()}});var V=function(){var t=m(),e=c(),n=O();return Object(f.sync)(e,t),{app:new _.a({router:t,store:e,i18n:n,render:function(t){return t(y)}}),router:t,store:e,i18n:n}}(),Y=V.app,z=V.store,Z=V.router;window.__INITIAL_STATE__&&z.replaceState(window.__INITIAL_STATE__),Z.onReady(function(){Z.beforeResolve(function(t,e,n){var a=Z.getMatchedComponents(t),r=Z.getMatchedComponents(e),i=!1,s=a.filter(function(t,e){return i||(i=r[e]!==t)}),o=s.map(function(t){return t.asyncData}).filter(function(t){return t});if(!o.length)return n();h.a.all(o.map(function(e){return e({store:z,route:t})})).then(function(){return n()}).catch(n)}),Y.$mount("#app")}),"https:"===window.location.protocol&&navigator.serviceWorker&&navigator.serviceWorker.register("/service-worker.js")}},["qenb"]);
//# sourceMappingURL=app.73d6d409687fa440c1d7.js.map